/*
Does what it has to be done.
author: "theInfinit"
edited by: Genetics
*/

private["_vehspeed","_maxspeed","_driver","_veh"];
_vehspeed = speed player;
_maxspeed = 50;
_driver = driver _x;
_veh = vehicle player;

// Series of annoying and maybe useless checks as always
if(vehicle player != player) exitWith {}; 
if(driver vehicle player != player) exitWith {}; 
if(getPosATL _veh select 2 > 30) exitWith{hint "Lucky boy, choppers can not be flashed !";}; // Message if a chopper passes nearby
if(side _driver == west) exitWith {}; // If the driver is a cop => No flash
if(_veh getVariable "siren") exitWith {}; // Second check for cops

// Checks the speed and do the right stuff
if((_vehspeed >= (_maxspeed + 55)) then   
{
	hint format[ "Sie wurden mit %1 km/h gemessen 50km/h sind erlaubt. Ihnen wurden $9000 Strafe abgezogen. Halten sie sich an die Geschwindigkeitbegrenzung!",[_vehspeed]];
	playSound "Camera_Shot_Sound_Effect";
	titleText["Geblitzt","WHITE OUT"];                       
	titleText["","WHITE IN"];
        [[getPlayerUID _driver,name _driver,"100"],"life_fnc_wantedAdd",false,false]] spawn life_fnc_MP; // Adds player to the wanted list
}; 

if((_vehspeed >= (_maxspeed + 40)) then   
{
	hint format[ "Sie wurden mit %1 km/h gemessen 50km/h sind erlaubt. Ihnen wurden $5000 Strafe abgezogen. Halten sie sich an die Geschwindigkeitbegrenzung!",[_currentspeed]];
	playSound "Camera_Shot_Sound_Effect";
	titleText["Geblitzt","WHITE OUT"];                       
	titleText["","WHITE IN"];
        [[getPlayerUID _driver,name _driver,"101"],"life_fnc_wantedAdd",false,false]] spawn life_fnc_MP; // Adds player to the 
};

if((_vehspeed >= (_maxspeed + 25)) then 
	{
	hint format[ "Sie wurden mit %1 km/h gemessen 50km/h sind erlaubt. Ihnen wurden $5000 Strafe abgezogen. Halten sie sich an die Geschwindigkeitbegrenzung!",[_currentspeed]];
	playSound "Camera_Shot_Sound_Effect";
	titleText["Geblitzt","WHITE OUT"];                       
	titleText["","WHITE IN"];
        [[getPlayerUID _driver,name _driver,"102"],"life_fnc_wantedAdd",false,false]] spawn life_fnc_MP; // Adds player 
};

if((_vehspeed >= (_maxspeed + 10)) then
{
	hint format[ "Sie wurden mit %1 km/h gemessen 50km/h sind erlaubt. Ihnen wurden $5000 Strafe abgezogen. Halten sie sich an die Geschwindigkeitbegrenzung!",[_currentspeed]];
	playSound "Camera_Shot_Sound_Effect";
	titleText["Geblitzt","WHITE OUT"];                       
	titleText["","WHITE IN"];
        [[getPlayerUID _driver,name _driver,"103"],"life_fnc_wantedAdd",false,false]] spawn life_fnc_MP; // Adds
};
